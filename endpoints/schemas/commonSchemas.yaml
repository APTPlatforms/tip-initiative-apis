openapi: 3.0.0
info:
  version: 4.2.0
  title: Common Schemas
  description: Common Schemas, based on TIP 4.0 documentation
  termsOfService: http://placeholderdomain.io/terms/
  contact:
    name: TIP Initiative
    email: tipinitiative@frontrowadvisory.com
    url: http://placeholderdomain.io
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
paths: {}
components:
  schemas:
    TransactionHeader:
      properties:
        tipVersion:
          description: TIP version of the interface
          type: string
        transactionNum:
          description: The identification information of the current request
          $ref: '#/components/schemas/TransactionId'
        originalTransactionNum:
          description: This is populated with the transactionNum when responding to a request
          $ref: '#/components/schemas/TransactionId'
        timeStamp:
          description: Date and time the transaction was created
          type: string
          format: date-time
      required:
        - tipVersion
        - transactionNum
        - timeStamp
    TransactionId:
      properties:
        transactionNum:
          description: Buyer or Seller generated unique number for transaction
          type: integer
        transactionType:
          description: Indicates the type of transaction (New, Changed, Cancelled)
          type: string
          enum:
            - New
            - Changed
            - Cancelled
        sourceId:
          description: Indicates the source "trading partner" unique identification
          type: string
        sourceName:
          description: Indicates the source "trading partner" name
          type: string
      required:
        - transactionNum
        - transactionType
        - sourceId
        - sourceName
    MediaOutlet:
      properties:
        mediaOutletId:
          description: Unique persistent identifier for the station or network
          type: string
        mediaOutletName:
          description: Station, network name or entity associated to mediaOutletId
          type: string
        mediaOutletType:
          description: Type of media outlet
          type: string
          enum:
            - Broadcast TV
            - OTT
            - Connected TV
            - Addressable TV
            - Digital Video
            - Mobile Video
            - Terrestrial Radio
            - Digital Audio
        mediaOutletChannel:
          description: Station or network station identification (Channel)
          type: string
        mediaOutletMarketName:
          description: Station market Name
          type: string
        mediaOutletReference:
          description: External mediaoutlet reference information
          type: string
      required:
        - mediaOutletId
        - mediaOutletName
        - mediaOutletType
    Advertiser:
      properties:
        advertiserId:
          description: Unique persistent identifier for the advertiser/client
          type: string
        advertiserName:
          description: Advertiser name
          type: string
        advertiserReference:
          description: External advertiser reference information
          type: string
      required:
        - advertiserId
        - advertiserName
    Brand:
      properties:
        brandId:
          description: Unique persistent identifier for the brand
          type: string
        brandName:
          description: Brand Name
          type: string
        brandReference:
          description: External brand reference information
          type: string
      required:
        - brandId
        - brandName
    Buyer:
      properties:
        buyerId:
          description: >-
            Unique persistent identifier for the Buying organization or trafficking agency and /or the
            supplier of the media
          type: string
        buyerName:
          description: Buying organization name and location
          type: string
        buyerReference:
          description: External buyer location reference information
          type: string
      required:
        - buyerId
        - buyerName
    Product:
      properties:
        productId:
          description: Unique persistent identifier for the product
          type: string
        productName:
          description: Product name
          type: string
        productReference:
          description: External product reference
          type: string
      required:
        - productId
        - productName
    AudienceSegment:
      properties:
        mediaOutletId:
          type: string
        audienceSegmentId:
          description: Unique persistent identifier for audience segment
          type: string
        audienceSegmentName:
          description: Audience Segment Name
          type: string
        audienceSegmentReference:
          description: External audience segment reference
          type: string
        primaryIndicator:
          description: True/False
          type: boolean
        guarantee:
          description: True/False
          type: boolean
        ratingSource:
          description: Audience source for audience segment
          type: string
          enum:
            - Nielsen
            - ComScore
            - Internal
            - Client
        ratingStream:
          description: Type of rating stream associated to the rating source
          type: string
          enum:
            - Program Live
            - Commercial Ratings Live
            - Commercial Rating Live+3
            - Commercial Rating Live+7
        universes:
          type: array
          items:
            $ref: '#/components/schemas/Universe'
      required:
        - mediaOutletId
        - audienceSegmentId
        - audienceSegmentName
    AudienceMetric:
      properties:
        audienceMetric:
          description: Type of audience metrics (AND)
          type: string
          enum:
            - Impressions
            - Rating
            - GRPs VPVH
            - Composition
            - Reach
            - Frequency Threshold
            - Scarcity
        audienceMetricValue:
          description: audienceMetric value
          type: integer
      required:
        - audienceMetric
        - audienceMetricValue
    PricingMetricOption:
      description: a list of valid pricing metric values
      type: string
      enum:
        - CPM
        - CPP
        - CPE
        - CPA
    PricingMetric:
      properties:
        pricingMetric:
          $ref: '#/components/schemas/PricingMetricOption'
        pricingMetricValue:
          description: The dollar value associated to the pricing metric
          type: number
          format: float
      required:
        - pricingMetric
        - pricingMetricValue
    AudiencePricingMetric:
      properties:
        audienceSegmentId:
          description: ID of the Audience Segment
          type: string
        audienceMetric:
          $ref: '#/components/schemas/AudienceMetric'
        pricingMetric:
          $ref: '#/components/schemas/PricingMetric'
      required:
        - audienceSegmentId
        - pricingMetric
    Universe:
      properties:
        universeType:
          description: Universe Type (AND)
          type: string
          enum:
            - Market
            - Total US
            - Coverage
            - Addressable
        universeTypeValue:
          description: Universe type value
          type: integer
    CancellationTerms:
      properties:
        cancellationType:
          description: Type of Cancellation elements
          type: string
          enum:
            - Quarterly
            - Broadcast Date
        cancellation:
          description: Quarter name or broadcast date dependent on cancellation type
          oneOf:
            - type: string
            - type: string
              format: date-time
        cancellationPriorDays:
          description: Number of days notice needed prior to start quarter or broadcast date to request
            cancellation
          type: integer
        cancellationPercentage:
          description: Percentage of dollars allowed to be cancelled for cancellation defined
          type: number
          format: float
    TimeSeparation:
      properties:
        unitLength:
          description: Unit length
          type: integer
        timeSeparation:
          description: >-
            Agreement whereby the seller agrees to separate advertiserâ€™s commercials by a specific length
            of time in addition to agreeing to not run another product that is directly competitive within
            a specific time frame; agreement may defined by unit length or across all lengths
          type: integer
    ReferenceId:
      properties:
        referenceSourceName:
          description: Name associated with the organization that is supplying the ids and version information
          type: string
        referenceSourceId:
          description: ID associated with the organization sending the information
          type: string
        referenceSourceLookup:
          description: Reference Source Look up; this could be URI to lookup information about the reference
            source name
          type: string
        referenceType:
          description: The type of reference IDs that are being supplied
          type: string
          enum:
            - RFP
            - Proposal
            - Deal
            - Order
            - Invoice
        referenceId:
          description: Number or ID associated with reference type(s)
          oneOf:
            - type: integer
            - type: string
        referenceVersionId:
          description: Version Number to indicate what version of the reference id
          type: string
        referenceName:
          description: Free form name used to identify the type of entity such as Order Name, RFP Name
          type: string
      required:
        - referenceSourceName
        - referenceSourceId
        - referenceType
        - referenceId
    Currency:
      description: > 
        Currency Code is based on ISO 4217. 
        Below is a short list of most widely used codes for in North America
      type: string
      enum:
        - USD   # US Dollar
        - CAD   # Canadian Dollar
        - EUR   # Euro
        - GBP   # Great Britain Pound
        - MXN   # Maxican Peso
        - AUD   # Austrialian Dollar
    CpeCode:
      properties:
        clientCode:
          description: Client code provided from the buyer. Packages client, product and estimate codes
            together.
          type: string
        productCode:
          description: Product code provided from the buyer. Packages client, product and estimate codes
            together.
          type: string
        estimateCode:
          description: Estimate code provided from the buyer. Packages client, product and estimate codes
            together.
          type: string
    RateCard:
      properties:
        rateCardId: 
          description:  Seller's Rate Card ID
          type: string
        rateCardName:
          description: Seller's Rate Card Name associated to the ID
          type: string
    GuideLine:
      properties:
        guideLineType:
          description: Type of guideline
          type: string
          enum:
            - Content
            - Program
            - MPAA Rating
            - Site Category
            - Genre
            - Video Group
            - Video Site
        excludeOrInclude:
          type: string
          enum:
            - Include
            - Exclude
        guideLineID:
          description: Guideline identifier
          type: string
        guideLineName:
          description: Guideline Name
          type: string
      required:
        - guideLineType
        - excludeOrInclude
    BroadcastDate:
      properties:
        broadcastDate:
          description: >-
            The broadcast date on which the unit aired/scheduled; Receiver of data will be responsible
            to convert based on station's broadcast start of day; format YYYY-MM-DD; In a future release
            the broadcast date will be modified to support UTC Standard
          type: string
          format: date
        broadcastTime:
          description: >-
            The broadcast local time on which the unit aired/scheduled; UTC Standard; Receiver of data
            will be responsible to convert based on station's broadcast start of day, "Currently using
            the following: format HH:MM:SS; In a future release the broadcast time will be modified t
            support UTC Standard
          type: string
    TimePeriod:
      properties:
        dateWindow:
          $ref: '#/components/schemas/DateWindow'
        DOW:
          $ref: '#/components/schemas/DayOfWeek'
        timeWindow:
          $ref: '#/components/schemas/TimeWindow'
      required:
        - dateWindow
        - DOW
    DateWindow:
      properties:
        startDate:
          description: Start Date, indicating the start of period, inclusive.
          type: string
          format: date
        endDate:
          description: End Date, indicating the end of period, inclusive.
          type: string
          format: date
      required:
        - startDate
        - endDate
    TimeWindow:
      properties:
        startTime:
          description: Start time, indicates the starting time for the period. Time is considered local to the mediaoutlet
          type: string
          format: date-time
        endTime:
          description: End time, indicates the ending time for the period. Time is interpreted based on the local timezone of the mediaoutlet
          type: string
          format: date-time
      required:
        - startTime
        - endTime
    DayOfWeek:
      description: a collection for the days of the week with boolean values (true, false).
      properties:
        sunday:
          type: boolean
        monday:
          type: boolean
        tuesday:
          type: boolean
        wednesday:
          type: boolean
        thursday:
          type: boolean
        friday:
          type: boolean
        saturday:
          type: boolean
      required:
        - sunday
        - monday
        - tuesday
        - wednesday
        - thursday
        - friday
        - saturday
    DailyUnitDistribution:
      description: >
        Ad units per day of week. 
        0 indicates no ads will be expected to air on the corresponding day of the week
      properties:
        sunday:
          type: integer
        monday:
          type: integer
        tuesday:
          type: integer
        wednesday:
          type: integer
        thursday:
          type: integer
        friday:
          type: integer
        saturday:
          type: integer
      required:
        - sunday
        - monday
        - tuesday
        - wednesday
        - thursday
        - friday
        - saturday    
    InventoryType:
      description: Valid list of Linear Inventory types
      type: string
      enum:
        - Commercial
        - Interstitial
        - Billboard
    LinkType:
      description: Linked Unit Type
      type: string
      enum:
        - Piggyback
        - Bookend
        - Sponsorship
        - Package
    InventoryPosition:
      type: string
      enum:
        - First
        - Middle
        - Last
        - Pre-Roll
        - Mid-Roll
        - Post-Roll   
    Contact:
      properties:
        contactType:
          description: Type of Contact
          type: string
          enum:
            - Account Executive
            - Planner
            - Assistant
            - Buyer
            - Payee
            - Creative
            - Delivery Service
        referenceSourceName:
          description: Name associated with the organization that is supplying the contact information
          type: string
        referenceSourceId:
          description: ID associated with the organization
          type: string
        contactFirstName:
          description: Contact First Name
          type: string
        contactLastName:
          description: Contact Last Name
          type: string
        addressLine1:
          description: Contact Address Line 1
          type: string
        addressLine2:
          description: Contact Address Line 2
          type: string
        city:
          description: City
          type: string
        state:
          description: State
          type: string
        postalCode:
          description: Postal Code
          type: string
        country:
          description: Country
          type: string
        phoneNumber:
          description: Primary telephone number
          type: string
        email:
          description: Primary email
          type: string
          format: email
        effectiveDate:
          description: Effective date for contact
          type: string
          format: date
      required:
        - contactType
        - referenceSourceName
        - referenceSourceId
        - contactFirstName
        - contactLastName
        - effectiveDate
    RemittanceInfo:
      properties:
        referenceSourceId:
          description: ID associated with the remittance
          type: string
        referenceName:
          description: Name associated with the remittance
          type: string
        contactFirstName:
          description: Contact First Name (not necessary)
          type: string
        contactLastName:
          description: Contact Last Name (not necessary)
          type: string
        addressLine1:
          description: Contact Address Line 1
          type: string
        addressLine2:
          description: Contact Address Line 2
          type: string
        city:
          description: City
          type: string
        state:
          description: State
          type: string
        postalCode:
          description: Postal Code
          type: string
        country:
          description: Country
          type: string
        phoneNumber:
          description: Primary telephone number
          type: string
        contactEmail:
          description: Primary email for payment remittance information
          type: string
          format: email
        portalInformation:
          description: Portal information including payment instructions
          type: string
        paymentLink:
          description: URL that directs buyer to invoice payment options
          type: string
        comments:
          description: Comments
          type: string
    SalesElementHeader:
      properties:
        mediaOutletId:
          description: MediaOutlet ID
          type: string
        salesElementName:
          description: Seller's sales element name; this could be either a program or daypart name
          type: string
        salesElementId:
          description: Seller's sales element ID
          type: string
        salesElementType:
          description: >-
            The type of Sales Element either time-, audience- or program-based. Audience is used to denote
            video/OTT which is identified by the MediaOutlet
          type: string
          enum:
            - Time-specific
            - Program
            - Audience
      required:
        - mediaOutletId
        - salesElementName
        - salesElementId
        - salesElementType
    SalesElement:
      properties:
        SalesElementHeader:
          $ref: '#/components/schemas/SalesElementHeader'
        timePeriods:
          type: array
          items:
            $ref: '#/components/schemas/TimePeriod'
        programs:
          description: This includes the list of program names that are included in the salesElement
          type: array
          items:
            type: string
        salesElementInventory:
          type: array
          items:
            $ref: '#/components/schemas/SalesElementInventory'
      required:
        - SalesElementHeader
        - salesElementInventory
    SalesElementInventory:
      properties:
        inventoryType:
          $ref: '#/components/schemas/InventoryType'
        linkType:
          $ref: '#/components/schemas/LinkType'
        inventoryPosition:
          $ref: '#/components/schemas/InventoryPosition'
        inventoryLength:
          description: length of unit
          type: integer
        salesElementInventoryDates:
          type: array
          items:
            $ref: '#/components/schemas/SalesElementInventoryDate'
      required:
        - inventoryType
    SalesElementInventoryDate:
      properties:
        dateType:
          description: indicate the span of the inventory described
          type: string
          enum:
            - Day
            - Week
            - Month
            - Quarter
        calendarType:
          description: Differentiates between OTT using Calendar and Linear using Broadcast Calendar.
          type: string
          enum:
            - Broadcast
            - Calendar
        dateWindow:
          $ref: '#/components/schemas/DateWindow'
        inventoryCapacity:
          description: The total maximum number of units for the SalesElementInventory
          type: string
        inventoryAvails:
          description: The number of "units" remaining for the  SalesElementInventory
          type: string
        inventoryMax:
          description: The maximum from the remaining "units" allowed for the SalesElementInventory 
          type: string
        unitRate:
          description: The rate for  individual unit 
          type: number
          format: float
        audiencesPricingMetrics:
          type: array
          items:
            $ref: '#/components/schemas/AudiencePricingMetric'
      required:
        - dateType
        - calendarType
        - dateWindow
    SalesElementTransaction:
      properties:
        salesElement:
          $ref: '#/components/schemas/SalesElementHeader'
        timePeriods:
          type: array
          items:
            $ref: '#/components/schemas/TimePeriod'
        programs:
          description: This includes the list of program names that are included in the salesElement
          type: array
          items:
            type: string
        salesElementTransactionInventory:
          description: an array of all inventory of the given salesElement proposed for the transaction 
          type: array
          items:
            $ref: '#/components/schemas/SalesElementTransactionInventory'
      required:
        - salesElement
        - timePeriods
        - salesElementTransactionInventory
    SalesElementTransactionInventory:
      properties:
        lineNum:
          type: string
        lineReference:
          type: string
        inventoryType:
          $ref: '#/components/schemas/InventoryType'
        linkType:
          $ref: '#/components/schemas/LinkType'
        inventoryPosition:
          $ref: '#/components/schemas/InventoryPosition'
        inventoryLength:
          type: integer
        brand:
          $ref: '#/components/schemas/Brand'
        product:
          $ref: '#/components/schemas/Product'
        cpeCode:
          $ref: '#/components/schemas/CpeCode'
        adu:
          type: boolean
        bonus:
          type: boolean
        salesElementTransactionDates:
          description: an array of proposed dates and unit distribution
          type: array
          items:
            $ref: '#/components/schemas/SalesElementTransactionDate'
    SalesElementTransactionDate:
      properties:
        dateType:
          description: indicate the span of the inventory described
          type: string
          enum:
            - Day
            - Week
            - Month
            - Quarter
        calendarType:
          description: Differentiates between OTT using Calendar and Linear using Broadcast Calendar.
          type: string
          enum:
            - Broadcast
            - Calendar
        dateWindow:
          $ref: '#/components/schemas/DateWindow'
        unitCount:
          description: units proposed/purchased for the transaction
          type: integer
        dailyUnitDistribution:
          $ref: '#/components/schemas/DailyUnitDistribution'
        rate:
          type: number
          format: float
        audiencesPricingMetrics:
          description: an array of audiences associated/targeted and the pricing values
          type: array
          items:
            $ref: '#/components/schemas/AudiencePricingMetric'
      required:
        - dateType
        - calendarType
        - dateWindow
        - unitCount
    SalesElementGroup:
      properties:
        salesElementGroupName:
          description: Seller's sales element name when grouping salesElements togther
          type: string
        salesElementGroupId:
          description: Seller's sales element group ID associated to the group name
          type: string
        salesElementGroupDescription:
          description: Seller's sales element group description
          type: string
        salesElementGroupType:
          description: The type of Sales Element Grouping
          type: string
          enum:
            - Orbit
            - Package
            - Sponsorship
        salesElements:
          type: array
          items:
            $ref: '#/components/schemas/SalesElementHeader'
        rate:
          description: Seller's rate for the sales element grouping when not pricing the individual sales
            element
          type: integer
      required:
        - salesElementGroupName
        - salesElementGroupId
        - salesElementGroupType
        - salesElement
    Error:
      properties:
        errorCode:
          type: integer
        errorMessage:
          type: string
      required:
        - errorCode
        - errorMessage
    AcceptedResponse:
      properties:
        transactionId:
          type: string
        timeStamp:
          type: string
          format: date-time
      required:
        - transactionId
        - timeStamp
